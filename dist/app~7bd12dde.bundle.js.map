{"version":3,"file":"app~7bd12dde.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/app.js","webpack://restaurant-apps/./src/scripts/components/ContentElement.js","webpack://restaurant-apps/./src/scripts/components/LikeButtonElement.js","webpack://restaurant-apps/./src/scripts/components/MainElement.js"],"sourcesContent":["import Drawer from './drawer'\r\nimport routes from './routes/routes'\r\nimport urlParser from './routes/url-parser'\r\nclass App {\r\n  constructor({ button, drawer, content }) {\r\n    this._button = button\r\n    this._drawer = drawer\r\n    this._content = content\r\n    this._initialAppShell()\r\n  }\r\n\r\n  _initialAppShell() {\r\n    Drawer.init({\r\n      button: this._button,\r\n      drawer: this._drawer,\r\n      content: this._content\r\n    })\r\n  }\r\n\r\n  async renderPage() {\r\n    const url = urlParser.withCombiner()\r\n    const page = routes[url]\r\n    this._content.innerHTML = await page.onMounted()\r\n    await page.onAfterMounted()\r\n    const skipLinkElem = document.querySelector('.skipToContent')\r\n    skipLinkElem.addEventListener('click', (event) => {\r\n      event.preventDefault()\r\n      document.querySelector('#main').focus()\r\n    })\r\n  }\r\n}\r\nexport default App\r\n","import detailElement from './templates/DetailTemplate'\r\nimport Base from '../global/base-data'\r\nconst Content = ({ element, data }) => {\r\n  const detailEl = element\r\n  const likeEl = document.createElement('div')\r\n  likeEl.setAttribute('class', 'likeButtonContainer')\r\n  const createRestoElement = detailElement({\r\n    Base,\r\n    restaurant: data\r\n  })\r\n  detailEl.innerHTML = createRestoElement\r\n  detailEl.append(likeEl)\r\n  const categories = document.querySelector('.categories')\r\n  data.categories.forEach((item) => {\r\n    const categoryEl = `\r\n        <li>#${item.name}</li>\r\n      `\r\n    categories.innerHTML += categoryEl\r\n  })\r\n}\r\nexport default Content\r\n","import FavoriteResto from '../global/favorite-resto'\r\nimport { likeButtonEl, likedButtonEl } from './templates/LikeButtonTemplate'\r\n\r\nconst LikeButton = {\r\n  async init({ likeButtonContainer, resto }) {\r\n    this._likeButtonContainer = likeButtonContainer\r\n    this._resto = resto\r\n    await this._renderButton()\r\n  },\r\n  async _renderButton() {\r\n    const { id } = this._resto\r\n\r\n    if (await this._isRestoExist(id)) {\r\n      this._renderLiked()\r\n    } else {\r\n      this._renderLike()\r\n    }\r\n  },\r\n\r\n  async _isRestoExist(id) {\r\n    const resto = await FavoriteResto.getResto(id)\r\n    return !!resto\r\n  },\r\n\r\n  _renderLike() {\r\n    this._likeButtonContainer.innerHTML = likeButtonEl()\r\n    const likeButton = document.querySelector('#likeButton')\r\n    likeButton.addEventListener('click', async () => {\r\n      await FavoriteResto.addResto(this._resto)\r\n      this._renderButton()\r\n    })\r\n  },\r\n  _renderLiked() {\r\n    this._likeButtonContainer.innerHTML = likedButtonEl()\r\n    const likeButton = document.querySelector('#likeButton')\r\n    likeButton.addEventListener('click', async () => {\r\n      await FavoriteResto.deleteResto(this._resto.id)\r\n      this._renderButton()\r\n    })\r\n  }\r\n}\r\nexport default LikeButton\r\n","import makeItemListSkeleton from './helpers/skeleton-maker'\r\nclass MainElement extends HTMLElement {\r\n  connectedCallback() {\r\n    this._mainTitle = this.getAttribute('main-title') || null\r\n    this.render()\r\n  }\r\n\r\n  render() {\r\n    this.innerHTML = `\r\n        <main id=\"main\" tabindex=\"0\">\r\n            <h2 class=\"title\">${this._mainTitle}</h2>\r\n            <div class=\"restoList\">\r\n            ${makeItemListSkeleton(20)}\r\n            </div>\r\n        </main>\r\n        `\r\n  }\r\n}\r\ncustomElements.define('main-element', MainElement)\r\n"],"names":["i","button","drawer","content","this","_button","_drawer","_content","_initialAppShell","Drawer","url","urlParser","page","routes","onMounted","innerHTML","onAfterMounted","document","querySelector","addEventListener","event","preventDefault","focus","element","data","detailEl","likeEl","createElement","setAttribute","createRestoElement","detailElement","Base","restaurant","append","categories","forEach","item","categoryEl","name","init","likeButtonContainer","resto","_likeButtonContainer","_resto","_renderButton","id","_isRestoExist","_renderLiked","_renderLike","FavoriteResto","likeButtonEl","likedButtonEl","MainElement","_mainTitle","getAttribute","render","makeItemListSkeleton","HTMLElement","customElements","define"],"sourceRoot":""}